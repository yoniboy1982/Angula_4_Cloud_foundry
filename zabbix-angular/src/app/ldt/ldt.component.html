<div class="charts-position">
    <app-button [title]="title" [tableclass]="tableclass" (messageEvent)="reciveMessage($event)" [year]="year"></app-button>
    <app-html-charts-pie [total]="total" [sum]="sum" parentName="ldt"></app-html-charts-pie>
    <table id="LDTtable" class="table table-hover table-striped  table-sm">
      <thead>
        <tr>
          <th class="space" scope="col"><span>Distribution </span></th>
          <th scope="col" >Physical</th>
          <th class="space" scope="col" >Virtual</th>
          <th scope="col" >Physical</th>
          <th scope="col" >Virtual</th>
        </tr>
        <tr>
          <th class="space" scope="col"></th>
          <th scope="col" colspan="2" class="space LDT font-weight-bold text-info">Compliant</th>
          <th scope="col" colspan="2" class="LDT font-weight-bold text-info">NonCompliant</th>
        </tr>          
      </thead>
      <tbody *ngIf="!collapse">
          <tr class="newLine" *ngFor="let k of zFunctions.objectKeys(dist[selectedRegion])">
              <td class="space" scope="row">{{k}}</td>
              <td>{{dist[selectedRegion][k].LDT.isLDT.p}}</td>
              <td class="space">{{dist[selectedRegion][k].LDT.isLDT.v}}</td>
              <td>{{dist[selectedRegion][k].LDT.nonLDT.p}}</td>
              <td>{{dist[selectedRegion][k].LDT.nonLDT.v}}</td>
            </tr>
      </tbody>
      <tbody *ngIf="collapse">
          <tr class="newLine" *ngFor="let k of zFunctions.objectKeys(sum[selectedRegion])">
              <td class="space" scope="row">{{k}}</td>
              <td>{{sum[selectedRegion][k].LDT.isLDT.p}}</td>
              <td class="space">{{sum[selectedRegion][k].LDT.isLDT.v}}</td>
              <td>{{sum[selectedRegion][k].LDT.nonLDT.p}}</td>
              <td>{{sum[selectedRegion][k].LDT.nonLDT.v}}</td>
            </tr>

      </tbody>
      <tfoot>
          <tr>
              <th scope="row">Total</th>
              <td class="total">{{total[selectedRegion].LDT.isLDT.p}}</td>
              <td class="total">{{total[selectedRegion].LDT.isLDT.v}}</td>
              <td class="total">{{total[selectedRegion].LDT.nonLDT.p}}</td>
              <td class="total">{{total[selectedRegion].LDT.nonLDT.v}}</td>
          </tr>
          <tr class="alert-info">
              <th class="space" scope="row">Combained</th>
              <td colspan="2" class="space total">{{total[selectedRegion].LDT.isLDT.p + total[selectedRegion].LDT.isLDT.v}}</td>
              <td colspan="2" class="total">{{total[selectedRegion].LDT.nonLDT.p + total[selectedRegion].LDT.nonLDT.v}}</td>
          </tr>            
      </tfoot>
    </table>
  </div>